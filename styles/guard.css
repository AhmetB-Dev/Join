/* ============================================
   summary-responsive.css (REPLACE)
   Isolierte Fixes nur für Summary-Seite
   Voraussetzung: <html class="page-summary">
   ============================================ */

/* ===== Mobile (<= 320px) ===== */
@media (max-width: 320px) {

    /* Root: volle Breite + sauberes Scrolling */
    .page-summary {
        margin: 0;
        padding: 0;
        width: 100%;
        max-width: 100%;
        height: auto;
        overflow-x: hidden;
        color: #2a3647;

        /* Feste Höhe der fixen Bottom-Bar (dein Wert) */
        --bottom-bar-h: 76px;
    }

    /* Body vollflächig, scrollen übernimmt .summary */
    .page-summary body {
        margin: 0;
        padding: 0;
        width: 100%;
        max-width: 100%;
        height: auto;
        min-height: 100dvh;
        overflow: hidden;
        /* kein Doppelscroll am Body */
        background-color: #f5f7f9;
    }

    /* ==== Layout-Grundidee ====
       .main-div -> flex column
       .header bleibt oben
       .summary wird der SCROLLER
       .side-menu-bottom fix unten
    */
    .page-summary .main-div {
        display: flex;
        flex-direction: column;
        min-height: 100dvh;
        box-sizing: border-box;
    }

    /* Linke Sidebar ausblenden */
    .page-summary .side-menu {
        display: none;
    }

    /* >>> Ergänzt: Bottom-Bar fix + Höhe nach --bottom-bar-h */
    .page-summary .side-menu-bottom {
        position: fixed;
        left: 0;
        right: 0;
        bottom: 0;
        z-index: 1000;

        height: var(--bottom-bar-h);
        min-height: var(--bottom-bar-h);
        box-sizing: border-box;
    }

    /* Innencontainer der Bar neutralisieren (verhindert „wächst höher“) */
    .page-summary .logo-content-container-bottom,
    .page-summary .menu-content-bottom,
    .page-summary .bottom-menu {
        margin: 0 !important;
        padding: 0 !important;
    }

    .page-summary .menu-content-bottom {
        width: 100%;
        display: flex;
        justify-content: space-around;
        align-items: center;
        gap: 0;
    }

    /* === Der tatsächliche Scroller: .summary === */
    .page-summary .summary {
        flex: 1 1 auto;
        overflow: auto;
        /* nur hier scrollen */
        -webkit-overflow-scrolling: touch;
        box-sizing: border-box;

        /* dein Padding + Luft nach unten = Bottom-Bar-Höhe */
        padding: 20px 20px calc(var(--bottom-bar-h) + env(safe-area-inset-bottom) + 12px) 20px;
    }

    /* Mobiler Feinschliff (DEINE Werte) */
    .page-summary a {
        text-decoration: none;
    }

    .page-summary .summary-content {
        display: flex;
        align-items: center;
        gap: 5pc;
    }

    .page-summary .summary-metrics {
        display: flex;
        flex-direction: column;
        gap: 25px;
    }

    .page-summary .summary-card-design {
        flex: 1;
        display: flex;
        justify-content: center;
        align-items: center;
        text-align: center;
        background: #fff;
        border-radius: 14px;
        box-shadow: 0 6px 16px rgba(0, 0, 0, 0.08);
    }

    /* Header kompakter */
    .page-summary .summary-header {
        display: flex;
        gap: 15px;
        flex-direction: column;
        align-items: flex-start;
    }

    .page-summary .summary-divider {
        display: none;
    }

    .page-summary .summary-title {
        font-size: 47px;
        margin-bottom: 0;
    }

    .page-summary .summary-subtitle {
        display: flex;
        flex-direction: column;
        font-size: 20px;
        margin-top: 0;
    }

    .page-summary .summary-subtitle::after {
        content: url(../img/summary-line-mobile.svg);
    }

    /* Cards etc. */
    .page-summary .summary-card {
        padding-bottom: 25px;
        padding-top: 25px;
        border: 15px;
        border-radius: 20px;
    }

    .page-summary .js-count-container {
        display: flex;
        flex-direction: column;
    }

    .page-summary .summary-row {
        display: flex;
        gap: 25px;
    }

    .page-summary .counter-design {
        font-size: 45px;
        font-weight: bold;
    }

    .page-summary .counter-text-design {
        font-size: 12px;
    }

    .page-summary .deadline-container {
        display: flex;
        align-items: center;
        gap: 23px;
    }

    .page-summary .deadline-under-container {
        display: flex;
        align-items: center;
        flex-direction: column;
        gap: 18px;
    }

    .page-summary .js-urgent-container {
        display: flex;
        flex-direction: column;
    }

    .page-summary .label {
        font-size: 12px;
    }

    .page-summary .js-deadline-date {
        font-size: 14px;
        font-weight: bold;
    }

    .page-summary .img-urgent-summary {
        width: 40px;
        height: 40px;
    }

    /* Greeting korrekt verstecken (statt display:hidden) */
    .page-summary .welcome-summary,
    .page-summary .summary-name,
    .page-summary .summary-greeting {
        display: none;
    }

    /* Icons mobil (deine Assets) */
    .page-summary .bild {
        background-image: url(../img/summary-pen-mobile.png);
        background-position: center;
        background-repeat: no-repeat;
        background-size: auto;
        object-fit: cover;
        border-radius: 10pc;
        width: 40px;
        height: 40px;
    }

    .page-summary .bild2 {
        background-image: url(../img/summary-done-mobile.png);
        background-position: center;
        background-repeat: no-repeat;
        background-size: auto;
        object-fit: cover;
        border-radius: 10pc;
        width: 40px;
        height: 40px;
    }

    /* Optional: Hover mobil */
    .page-summary .summary-card:hover {
        background-color: #2a3647;
        color: white;
    }
}

/* Fallback, falls 100dvh nicht unterstützt wird */
@supports not (height: 100dvh) {
    @media (max-width: 320px) {
        .page-summary .main-div {
            min-height: 100vh;
        }
    }
}